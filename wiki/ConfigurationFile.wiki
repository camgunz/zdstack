#summary zdstack.ini configuration file format

= Introduction =

The zdstack.ini file contains configuration information for all ZDStack processes, as well as individual zserv configuration (such as WADs, MOTD, DMFLAGS, etc.).

= Example =

{{{
[DEFAULT]
;;; The default RCON password for all servers
rcon = supersecretrconpass
;;; The full, absolute path to the WADs, but not IWADs
waddir =
;;; The full, absolute path to the IWADs, but not the WADs
iwaddir =
;;; The name of the IWAD to use
iwad = doom2.wad
;;; The default timeout for all servers
timelimit = 15
;;; Whether or not to advertise, 0=no, 1=yes
advertise = 0
;;; Team Damage factor, 0=off, .5/0.5=half, 1=full
teamdamage = 0
;;; The message to display upon connecting to a server
motd = Welcome to the Greatest Servers!
;;; The message to display in the server selector (like ZLauncher or IDE)
hostname = Greatest Servers | Greatland, GR | %(name)s
;;; The full, absolute path to the configuration templates
template_dir =
;;; The default password for passworded servers
password =
;;; The root folder under which all ZDStack processes will create their folders
rootfolder =
;;; Default per-game-mode DMFLAGS
1on1_dmflags = 201796
1on1_dmflags2 = 132608
ffa_dmflags = 201796
ffa_dmflags2 = 132608
ctf_dmflags = 21508
ctf_dmflags2 = 656896

;;; An example of a duel server that does not use any PWADs except for zvox2.wad
[D2M1]
type = 1-on-1
wads = zvox2.wad
timelimit = 0
port = 10666
advertise = 1
maps = map01

;;; An example of a typical Judas server
[Judas]
type = 1-on-1
wads = judas23_.wad,zvox2.wad
timelimit = 0
port = 10667
advertise = 1
maps = map01

;;; An example of an un-advertised, passworded CTF server
[Super Secret CTF]
type = ctf
wads = zdctfmp.wad,zdctfmp2.wad,zdctfmp3-.wad,zvox2.wad
port = 10655
maps = map01,map02,map03,map04,map07,map08,map09,map11,map12,map13,map15,map16,map18,map19,map21,map25,map26,map27
password = illnevertell
motd = 1st rule about Super Secret CTF is you do not talk about Super Secret CTF<br>2nd rule about Super Secret CTF is you do not talk about Super Secret CTF
timelimit = 20
rcon = fightclub

;;; An example of a typical ZDCTF server
[ZD CTF 1,2,3]
type = ctf
wads = zdctfmp.wad,zdctfmp2.wad,zdctfmp3-.wad,zvox2.wad
port = 10709
advertise = 1
maps = map01,map02,map03,map04,map07,map08,map09,map11,map12,map13,map15,map16,map18,map19,map21,map25,map26,map27

;;; An example using custom DMFLAGS for a Shoot!.wad server (respawn items)
[Shoot]
type = 1-on-1
wads = shoot!.wad,zvox2.wad
port = 10717
advertise = 1
maps = map01
dmflags = 218180
}}}

= Types =
Supported types are `ctf`, `1-on-1` (I might add `Duel` as a synonym for this, as the dashes are a little inconvenient), and `ffa`.  `teamdm` and `coop` are planned for the future.

= Gotchas & Cool Things =

  * If a password is set on a server, then it will be passworded.  This also goes for setting a default password.
  * If no maps are given, only the first map is used.  Unfortunately, due to limitations in the zserv configuration file format there is no way to specify "all" without some kind of lookup table mapping WADs to MAP#'s... which, if you think about it, is kind of what you're doing in this configuration file.
  * The section names (`[Shoot]`, for example) are the server names, i.e. `[Shoot]` is `Shoot`.
  * Any of the defaults, or any of the server-specific configuration options can be referenced in other configuration values.  For example, the `DEFAULT` for `hostname` is `Greatest Servers | Greatland, GR | %(name)s`.  This means that the `Shoot` server's `hostname` will be "`Greatest Servers | Greatland, GR | Shoot`".  This is useful if you want to make the RCON password public, or to include the Team Damage ratio in the server's hostname, or any other type of crazy thing you can think of.  You can probably even add random stuff in the config and reference it later, like

    {{{
[DEFAULT]
server_masthead = Greatest Servers
idl_masthead = %(server_masthead)s IDL Season IV %(name)s
...

[Week 3 STK vs NUB]
hostname = %(idl_masthead)s
    }}}

    So the `IDL Week 3 STK vs NUB` server's hostname will end up being `Greatest Servers IDL Season IV Week 3 STK vs NUB`.  It seems kinda complicated, but it can save a lot of copying and pasting (and thus confusing mistakes).